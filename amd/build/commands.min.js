define("tiny_moldraw/commands",["exports","editor_tiny/utils","core/str","core/modal","./common","../../chem/body"],(function(_exports,_utils,_str,_modal,_common,_body){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.getSetup=void 0,_modal=(obj=_modal)&&obj.__esModule?obj:{default:obj};const handleAction=async editor=>{try{const title=await(0,_str.get_string)("sketchtitle","tiny_moldraw"),bodyContent=await(0,_body.loadBody)(),footerContent=await(0,_body.loadFooter)();await _modal.default.create({title:title,body:bodyContent,footer:footerContent,show:!0,removeOnClose:!0});const modalWidth=850,modalHeight=600,topPosition=(window.innerHeight-modalHeight)/2;document.querySelector(".modal-dialog").style.cssText=`max-width: unset; width: ${modalWidth}px; height: ${modalHeight}px; margin: ${topPosition}px auto; padding: 0;`,document.querySelector(".modal-content").style.cssText="max-height: 600px; height: 100vh;",document.querySelector(".modal-body").style.cssText="padding: 0;"}catch(error){console.error("Error handling action:",error)}};_exports.getSetup=async()=>{try{const[startMolDrawButtonNameTitle,startMolDrawMenuItemNameTitle,buttonImage]=await Promise.all([(0,_str.get_string)("button_startMolDraw",_common.component),(0,_str.get_string)("menuitem_startMolDraw",_common.component),(0,_utils.getButtonImage)("icon",_common.component)]);return editor=>{editor.ui.registry.addIcon(_common.icon,buttonImage.html),editor.ui.registry.addButton(_common.startMolDrawButtonName,{icon:_common.icon,tooltip:startMolDrawButtonNameTitle,onAction:()=>handleAction()}),editor.ui.registry.addMenuItem(_common.startMolDrawMenuItemName,{icon:_common.icon,text:startMolDrawMenuItemNameTitle,onAction:()=>handleAction()})}}catch(error){console.error("Error setting up plugin:",error)}}}));

//# sourceMappingURL=commands.min.js.map