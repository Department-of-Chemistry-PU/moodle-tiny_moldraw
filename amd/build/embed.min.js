define("tiny_keteditor/embed",["exports","core/str","core/templates","core/modal","core/config","core/notification"],(function(_exports,_str,_templates,_modal,_config,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Common values helper for the Moodle tiny_keteditor plugin.
   *
   * @module      tiny_keteditor/embed
   * @copyright   2024 Venkatesan Rangarajan <venkatesanrpu@gmail.com>
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.KetcherEmbed=void 0,_templates=_interopRequireDefault(_templates),_modal=_interopRequireDefault(_modal),_config=_interopRequireDefault(_config);_exports.KetcherEmbed=class{editor=null;constructor(editor){this.editor=editor}init=async()=>{const modal=await _modal.default.create({title:(0,_str.get_string)("buttonNameTitle","tiny_keteditor"),show:!0,removeOnClose:!0});_templates.default.renderForPromise("tiny_keteditor/ketcher_template",{}).then((async _ref=>{let{html:html,js:js}=_ref;_templates.default.appendNodeContents(modal.getBody(),html,js);const scripturl=new URL(`${_config.default.wwwroot}/lib/editor/tiny/plugins/keteditor/ketcher/static/js/main.963f80c2.js`);var script=document.createElement("script");script.src=scripturl.toString(),document.body.appendChild(script);const cssurl=new URL(`${_config.default.wwwroot}/lib/editor/tiny/plugins/keteditor/ketcher/static/css/main.3fc9c0f8.css`);var link=document.createElement("link");link.href=cssurl.toString(),link.rel="stylesheet",document.head.appendChild(link)})).catch((error=>(0,_notification.exception)(error)))};waitForKetcher=()=>new Promise(((resolve,reject)=>{const checkKetcher=setInterval((()=>{window.ketcher&&(clearInterval(checkKetcher),resolve(window.ketcher))}),100);setTimeout((()=>{clearInterval(checkKetcher),reject(new Error("Ketcher loading timeout"))}),5e3)}))}}));

//# sourceMappingURL=embed.min.js.map