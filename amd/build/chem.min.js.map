{"version":3,"file":"chem.min.js","sources":["../src/chem.js"],"sourcesContent":["$(document).ready(function () {\n  $(\"#actionbutton\").click(handleClick);\n\n  isPreview = true;\n  function handleClick() {\n    let mol = sketcher.getMolecule();\n    if (isPreview) {\n      if (mol === undefined) {\n        alert(\"Canvas is Blank\");\n      } else {\n        console.log(\"if part run\");\n        $(this).attr(\"data-state\", \"preview\");\n        outputImage();\n        $(this).html(\"Confirm & Close\").attr(\"data-state\", \"confirm\");\n        isPreview = false;\n      }\n    } else {\n      console.log(\"else part run\");\n      closeModal();\n    }\n  }\n\n  //   function handleClick() {\n  //     outputImage();\n\n  //   }\n\n  function outputImage() {\n    let mol = sketcher.getMolecule();\n\n    let molFile = ChemDoodle.writeMOL(mol);\n    //   console.log(molFile);\n    src = ChemDoodle.io.png.string(sketcher);\n\n    let img = document.createElement(\"img\");\n    img.src = src;\n    img.width = prompt(\"Enter Width: \");\n    img.height = prompt(\"Enter Height: \");\n    var outputDiv = document.getElementById(\"output\");\n    outputDiv.appendChild(img);\n  }\n\n  function closeModal() {\n    if (window.parent.tinyMCE && window.parent.tinyMCE.activeEditor) {\n      if (true) {\n        let mol = sketcher.getMolecule();\n        let src = ChemDoodle.io.png.string(sketcher);\n        let molFile = ChemDoodle.writeMOL(mol);\n\n        let width = prompt(\"width:\");\n        let height = prompt(\"height:\");\n\n        var content =\n          '<img src=\"' +\n          src +\n          '\" width=\"' +\n          width +\n          'px\" height=\"' +\n          height +\n          'px\">';\n        console.log(molFile, content, width, height);\n\n        window.parent.tinyMCE.activeEditor.execCommand(\n          \"mceInsertContent\",\n          0,\n          content\n        );\n        window.parent.tinyMCE.activeEditor.execCommand(\n          \"mceInsertContent\",\n          0,\n          \"<!--\" + molFile + \"-->\"\n        );\n      } else {\n        console.log(\"TinyMCE not initialized\");\n      }\n      $(window.parent.document).find(\".modal\").find(\".close\").click();\n    }\n  }\n});\n"],"names":["$","document","ready","click","mol","sketcher","getMolecule","isPreview","undefined","alert","console","log","this","attr","ChemDoodle","writeMOL","src","io","png","string","img","createElement","width","prompt","height","getElementById","appendChild","outputImage","html","window","parent","tinyMCE","activeEditor","molFile","content","execCommand","find","closeModal"],"mappings":"AAAAA,EAAEC,UAAUC,OAAM,WAChBF,EAAE,iBAAiBG,sBAIbC,IAAMC,SAASC,cACfC,eACUC,IAARJ,IACFK,MAAM,oBAENC,QAAQC,IAAI,eACZX,EAAEY,MAAMC,KAAK,aAAc,0BAiB3BT,IAAMC,SAASC,cAELQ,WAAWC,SAASX,KAElCY,IAAMF,WAAWG,GAAGC,IAAIC,OAAOd,cAE3Be,IAAMnB,SAASoB,cAAc,OACjCD,IAAIJ,IAAMA,IACVI,IAAIE,MAAQC,OAAO,iBACnBH,IAAII,OAASD,OAAO,kBACJtB,SAASwB,eAAe,UAC9BC,YAAYN,KA3BlBO,GACA3B,EAAEY,MAAMgB,KAAK,mBAAmBf,KAAK,aAAc,WACnDN,WAAY,IAGdG,QAAQC,IAAI,+BA0BVkB,OAAOC,OAAOC,SAAWF,OAAOC,OAAOC,QAAQC,aAAc,CACrD,KACJ5B,IAAMC,SAASC,cACfU,IAAMF,WAAWG,GAAGC,IAAIC,OAAOd,UAC/B4B,QAAUnB,WAAWC,SAASX,KAE9BkB,MAAQC,OAAO,UACfC,OAASD,OAAO,eAEhBW,QACF,aACAlB,IACA,YACAM,MACA,eACAE,OACA,OACFd,QAAQC,IAAIsB,QAASC,QAASZ,MAAOE,QAErCK,OAAOC,OAAOC,QAAQC,aAAaG,YACjC,mBACA,EACAD,SAEFL,OAAOC,OAAOC,QAAQC,aAAaG,YACjC,mBACA,EACA,UAASF,QAAU,UAKvBjC,EAAE6B,OAAOC,OAAO7B,UAAUmC,KAAK,UAAUA,KAAK,UAAUjC,SAzDxDkC,OAfJ9B,WAAY"}